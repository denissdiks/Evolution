<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evolution</title>
    <style>
        .absolutePos {
            position:absolute;
        }

        .evo_stage {
            left: 555px;
            visibility: hidden;
        }

        .first_stage {
            visibility: visible;
        }
    </style>
</head>
    <body>
        <img class="absolutePos" src="images/bookshelf.png" alt="bookshelf" style="width:247px;height:453px;">
        <img id="bookRed" class="book absolutePos" src="images/redBook.png" alt="redBook" style=" width:75px;height:65px;">
        <img id="bookBlue" class="book absolutePos" src="images/blueBook.png" alt="blueBook" style=" width:75px;height:75px;">
        <img id="bookGreen" class="book absolutePos" src="images/greenBook.png" alt="greenBook" style=" width:65px;height:75px;">

        <img class="evo_stage absolutePos" src="images/evo_4.png" alt="stage5" >
        <img class="evo_stage absolutePos" src="images/evo_3.png" alt="stage4" >
        <img class="evo_stage absolutePos" src="images/evo_2.png" alt="stage3" >
        <img class="evo_stage absolutePos" src="images/evo_1.png" alt="stage2" >
        <img class="evo_stage first_stage absolutePos" src="images/evo_0.png" alt="stage1" >

        <p><button id="button" onclick="letsRead()" style="margin-top: 500px;">Read!</button></p> 

        <script>
            let bookRed = document.getElementById("bookRed"); // store each book's img
            let bookBlue = document.getElementById("bookBlue"); // from the document
            let bookGreen = document.getElementById("bookGreen");// in variables

            function letsRead() { // MAIN function, is called when the button is clicked
                document.getElementById("button").disabled = true;

                setBookPos(bookRed);
                setBookPos(bookBlue);
                setBookPos(bookGreen);

                let id = setInterval(frame, 10); // replay frame() every 10 miliseconds
            }

            function frame (){
                throwBook(bookRed);
                throwBook(bookBlue);
                throwBook(bookGreen);
            }

            function throwBook(book){
                let pos = book.offsetLeft;

                if (pos >= 555) { //after each book hit the stage
                    setBookPos(book); //move book to the begining

                } else { //otherwise move the book to the right
                    pos = pos + 2;
                    book.style.left = pos + "px";
                    book.style.transform = "rotate(" + pos*1.5 + "deg)";
                } 
            }

            function setBookPos(book) {
                let top = Math.floor((Math.random() * 170) + 150); //random start position
                let left = Math.floor((Math.random() * 190) + 1);  //of the book

                book.style.top = top + "px";
                book.style.left = left + "px";
            }
        </script>
    </body>
</html>